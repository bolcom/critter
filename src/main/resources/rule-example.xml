<!-- Critter example Rule -->

<!-- if all the conditions are met then perform all the actions -->
<rule id="myrule" enabled="true">
	<conditions>
		<!-- true if the hostname of the request matches the given value -->
		<host matches="test.critter" />
		
		<!-- true if the URL path of the request matches the given value -->
		<path matches="/here/BOL" />
		
		<!-- true if the URL port of the request matches the given value -->
		<port matches="9999" />

		<!-- true if the specified Header (by name) of the request matches the given value -->
		<header name="Content-Type" matches="application/xml" />
		
		<!-- true if the Authorization header matches the Base64 encoded version of username:password combination -->
		<basicauthentication username="Aladdin" password="open sesame" />	
		
		<!-- you can wrap any condition in a not element -->
		<not>
		  <host matches="not.test.critter" />
		</not>	
	</conditions>
	<actions>
		<!-- make the proxy wait for a number of milliseconds during processing of the request -->
		<delay ms="1000" />
		
		<!-- remove or add the specified Header with the given value -->
		<responseheader remove="Date" add="X-TEST" value="Y" />
		
		<!-- forward the request to the host as defined by the request -->
		<forward />
		
		<!-- set the status code of the response that will be send back to the client -->
		<status code="500" />
		
		<!-- set the response body that will be send back to the client -->
		<responsebody>
			<body><![CDATA[			
				<html></html>
			]]></body>
		</responsebody>
		
		<!-- close the outputstream of the response (not really a disconnect) -->
		<close />
		
		<!-- send the response back to the client -->
		<respond />
		
		<!-- dump information about the request or response (depends on location w.r.t forward)-->
		<trace />
		
	</actions>
</rule>